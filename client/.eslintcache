[{"C:\\Users\\thais\\Desktop\\thera\\client\\src\\index.js":"1","C:\\Users\\thais\\Desktop\\thera\\client\\src\\reportWebVitals.js":"2","C:\\Users\\thais\\Desktop\\thera\\client\\src\\App.js":"3"},{"size":500,"mtime":499162500000,"results":"4","hashOfConfig":"5"},{"size":362,"mtime":499162500000,"results":"6","hashOfConfig":"5"},{"size":3243,"mtime":1612249375680,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1hf2syt",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15","usedDeprecatedRules":"16"},"C:\\Users\\thais\\Desktop\\thera\\client\\src\\index.js",[],["17","18"],"C:\\Users\\thais\\Desktop\\thera\\client\\src\\reportWebVitals.js",[],"C:\\Users\\thais\\Desktop\\thera\\client\\src\\App.js",["19","20","21","22","23"],"import logo from './logo.svg';\nimport './App.css';\nimport react, { useState, useEffect } from 'react'\nimport io from 'socket.io-client'\nimport queryString from 'query-string'\nimport $ from 'jquery';\n\nconst ENDPOINT = 'https://thera-server.herokuapp.com/'\nlet socket;\nfunction App() {\n  const [name, setName] = useState('')\n  const [room, setRoom] = useState('')\n  const [joined, setJoined] = useState(false)\n  const [message, setMessage] = useState('')\n\n  //moi lan reload thi message mat het---y tuong cua socket, va component trong react\n  const [messages, setMessages] = useState([])\n\n  function handleJoin(e) {\n    e.preventDefault()\n    setJoined(true)\n    let data = { name, room }\n    socket = io.connect(ENDPOINT)\n    socket.emit('join', data)\n  }\n\n\n  function scrollSmoothToBottom(id) {\n    if (joined) {\n      var div = document.getElementById(id);\n\n      // $('#' + id).animate({\n      //     scrollTop: div.scrollHeight - div.clientHeight\n      // }, 500);\n      div.scrollTop = div.scrollHeight;\n    }\n\n  }\n\n\n  function handleLeave() {\n    socket.emit('leave', { name, room })\n    socket.disconnect()\n    socket.off()\n    setJoined(false)\n  }\n  function sendMessage(e) {\n    e.preventDefault()\n    socket.emit('send-message', { message, name, room })\n    setMessage('')\n  }\n\n  useEffect(() => {\n    console.log(\"called\")\n    if (socket) {\n      socket.on('send-message', data => {\n        if (data.room === room) {\n          setMessages([...messages, { name: data.name, message: data.message }])\n        }\n      })\n    }\n  }, [socket, message])\n\n\n  function messageSection() {\n    return messages.map((ms, i) => {\n      if (ms.name === name) {\n        return (\n          <div key={i} className=\"my-message\"   >\n            <h3>&nbsp;you</h3>\n            <h4 className=\"message-text\">{ms.message} </h4>\n          </div>\n        )\n      }\n      return (\n        <div key={i} className=\"message\">\n          <h3>{ms.name}:</h3>\n          <h4 className=\"message-text\">{ms.message}</h4>\n        </div>\n      )\n    })\n  }\n  function test() {\n    scrollSmoothToBottom(\"message-container\")\n  }\n  return (\n    <div className=\"container\">\n      {!joined &&\n        <form className=\"join-form\" onSubmit={handleJoin}>\n\n          <h1>CHAT</h1>\n          <input className=\"input\" type=\"text\" placeholder=\"name\" onChange={(e) => setName(e.target.value)} required />\n          <input className=\"input\" type=\"text\" placeholder=\"room\" onChange={(e) => setRoom(e.target.value)} required />\n          <button>Join</button>\n        </form>\n      }\n\n      {joined &&\n        <>\n          <form className=\"chat-box\" onSubmit={sendMessage}>\n            <div className=\"title\" >\n              <h2>room: {room}</h2>\n              <h2>you: {name}</h2>\n            </div>\n            <div id=\"message-container\" className=\"message-container\">\n              {messageSection()}\n            </div>\n            <input className=\"input-text\" type=\"text\" placeholder=\"message\" onChange={(e) => setMessage(e.target.value)} required value={message} />\n          </form>\n\n          <button className=\"button-leave\" onClick={handleLeave}>leave this shit</button>\n          <button onClick={test}>test</button>\n        </>\n\n      }\n    </div>\n  )\n}\n\nexport default App;\n",["24","25"],{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","severity":1,"message":"31","line":1,"column":8,"nodeType":"32","messageId":"33","endLine":1,"endColumn":12},{"ruleId":"30","severity":1,"message":"34","line":3,"column":8,"nodeType":"32","messageId":"33","endLine":3,"endColumn":13},{"ruleId":"30","severity":1,"message":"35","line":5,"column":8,"nodeType":"32","messageId":"33","endLine":5,"endColumn":19},{"ruleId":"30","severity":1,"message":"36","line":6,"column":8,"nodeType":"32","messageId":"33","endLine":6,"endColumn":9},{"ruleId":"37","severity":1,"message":"38","line":62,"column":6,"nodeType":"39","endLine":62,"endColumn":23,"suggestions":"40"},{"ruleId":"26","replacedBy":"41"},{"ruleId":"28","replacedBy":"42"},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'react' is defined but never used.","'queryString' is defined but never used.","'$' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'messages' and 'room'. Either include them or remove the dependency array. Outer scope values like 'socket' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["45"],["43"],["44"],"no-global-assign","no-unsafe-negation",{"desc":"46","fix":"47"},"Update the dependencies array to be: [message, room, messages]",{"range":"48","text":"49"},[1539,1556],"[message, room, messages]"]